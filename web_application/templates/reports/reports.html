{% extends 'layout/base.html' %}

{% block title %}Report{% endblock %}

{% block content %}
    <section class="report-section">
        <h1>Generate Report</h1>
        <p>Fill out the form below to create a custom report:</p>

        <form method="POST" id="reportForm" class="report-form">
            <div class="form-group">
                <label for="title">Report Title:</label>
                <input type="text" id="title" name="title" required placeholder="Enter report title" oninput="updatePreview()">
            </div>

            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description" required placeholder="Enter report description" oninput="updatePreview()"></textarea>
            </div>

            <div class="form-group">
                <label for="data">Additional Data (JSON):</label>
                <textarea id="data" name="data" required placeholder='{"key": "value"}' oninput="updatePreview()"></textarea>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Generate Report</button>
            </div>
        </form>
    </section>

    <section class="preview-section">
        <h2>Report Preview</h2>
        <div id="preview" class="report-preview">
            <h3 id="previewTitle">Your report title will appear here</h3>
            <p id="previewDescription">Your report description will appear here</p>
            <h4>Additional Data:</h4>
            <pre id="previewData">Your additional data will appear here in JSON format</pre>
        </div>

        {% include 'reports/report_template.html' %}
    </section>

{% endblock %}

{% block scripts %}
    <script>
        {{ preview_script|safe }}
    </script>
{% endblock %}
